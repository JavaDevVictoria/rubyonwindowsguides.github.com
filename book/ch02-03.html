<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Pik</title>
   <meta name="author" content="Boško Ivanišević" />

   <link rel="stylesheet" href="/css/960.css" type="text/css" />
   <link rel="stylesheet" href="/css/reset.css" type="text/css" />
   <link rel="stylesheet" href="/css/text.css" type="text/css" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/style.css" type="text/css" media="screen, projection" />

   <script type="text/javascript">

     var _gaq = _gaq || [];
     _gaq.push(['_setAccount', 'UA-26061460-1']);
     _gaq.push(['_trackPageview']);

     (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();

   </script>
</head>
<body>

<div class="container_12">
  <!--<div class="grid_2">
    <br/>
    <h1>Something</h1>
    <p>
      Lorem ipsum, etc, etc, so on and so forth
    </p>
  </div>-->

  <div id="main" class="grid_10">
    <div id="header" class="grid_10">
      <br/>
      <table>
        <tr>
          <td><img src="/images/rwg_logo_blue.png"/></td>
          <td>
            <h1>Ruby on Windows Guides</h1>
            <!-- <h3>Comprehensive guides for Ruby on Windows</h3> -->
          </td>
        </tr>
      </table>
    </div>

    <div id="menu" class="grid_10">
      <a href="/">Book</a>
      <a href="/about.html">About</a>
      <!-- <a href="/something.html">Something</a> -->
    </div>

    <div id="content" class="grid_10">
      
      <a href="/book/ch02-02.html" title="Previous: Building Ruby">&laquo; Building Ruby</a>
      

      
      &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
      <a href="/book/ch02-04.html" title="Next: Devkit">Devkit &raquo; </a>
       
      <br/><br/>

      <p>le unless we add the path to the development version to the system path. So we have to choose either to use Ruby in Console2&#8217;s tabs or to constantly alter system path in order to change Ruby version we work with. This certainly is not the most comfortable way and, fortunately, there is a much better solution – Pik.</p>
<p>Pik gem is Ruby extension for managing multiple Ruby versions on Windows system. It is installed as any other Ruby gem. Open new Command Prompt window (not Console2) and execute following command:</p>
<div class="highlight"><pre><code class="bat">C:\<span class="p">&gt;</span><span class="n">gem</span> install pik
----------------------------------------------------------------------------
*  <span class="k">If</span> you<span class="s1">&#39;re upgrading from a version &lt;= 0.1.1, you&#39;</span>ll want to delete the pik.bat
   file from all of your ruby versions. Gem uninstall should <span class="k">do</span> the trick.
*  Install pik to a location that&#39;s in your path<span class="p">,</span> but someplace other than your
   ruby\bin dir <span class="k">If</span> you&#39;re upgrading from a more recent version<span class="p">,</span> pik_install will
   overwrite the older files as needed.
    <span class="p">&gt;</span><span class="n">path</span>
      PATH<span class="o">=</span>C:\tools\;C:\ruby\<span class="m">186</span>-p<span class="m">368</span>-mingw<span class="m">32</span>\bin;C:\WINDOWS\system<span class="m">32</span>;C:\WINDOWS
    <span class="p">&gt;</span><span class="n">pik_install</span> C:\tools
*  <span class="k">If</span> this is a first-time install<span class="p">,</span> add all the versions of ruby that you want to
   use with pik
    <span class="p">&gt;</span><span class="n">pik</span> add
    Adding:  <span class="m">186</span>: ruby <span class="m">1</span>.<span class="m">8</span>.<span class="m">6</span> (<span class="m">2009-03-31</span> patchlevel <span class="m">368</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]
     Located at:  c:<span class="n">/ruby/186-p368-mingw32/bin</span>
    <span class="p">&gt;</span><span class="n">pik</span> add C:\ruby\IronRuby<span class="m">-091</span>\bin
    Adding:  <span class="m">091</span>: IronRuby <span class="m">0</span>.<span class="m">9</span>.<span class="m">1</span>.<span class="m">0</span> <span class="k">on</span> .NET <span class="m">2</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">0</span>
     Located at:  C:<span class="n">/ruby/IronRuby-091/bin</span>
    <span class="p">&gt;</span><span class="n">pik</span> add C:\ruby\jruby<span class="m">-1</span>.<span class="m">4</span>.<span class="m">0</span>RC<span class="m">1</span>\bin
    Adding:  <span class="m">140</span>: jruby <span class="m">1</span>.<span class="m">4</span>.<span class="m">0</span>RC<span class="m">1</span> (ruby <span class="m">1</span>.<span class="m">8</span>.<span class="m">7</span> patchlevel <span class="m">174</span>) (<span class="m">2009-09-30</span> <span class="m">80</span>c<span class="m">263</span>b)
 (Java HotSpot(TM) Client VM <span class="m">1</span>.<span class="m">6</span>.<span class="m">0</span>_<span class="m">14</span>) [x<span class="m">86</span>-java]
     Located at:  C:<span class="n">/ruby/jruby-1.4.0RC1/bin</span>
----------------------------------------------------------------------------
Successfully installed pik<span class="m">-0</span>.<span class="m">2</span>.<span class="m">8</span>
<span class="m">1</span> gem installed
Installing ri documentation <span class="k">for</span> pik<span class="m">-0</span>.<span class="m">2</span>.<span class="m">8</span>...
Installing RDoc documentation <span class="k">for</span> pik<span class="m">-0</span>.<span class="m">2</span>.<span class="m">8</span>...
</code></pre>
</div><p>Command is executed in the new Command Prompt where the only Ruby available, at the moment, is 1.9.2, therefore gem will be installed in it. Let&#8217;s check that:</p>
<div class="highlight"><pre><code class="bat">C:\<span class="p">&gt;</span><span class="n">gem</span> list
*** LOCAL GEMS ***
minitest (<span class="m">1</span>.<span class="m">6</span>.<span class="m">0</span>)
pik (<span class="m">0</span>.<span class="m">2</span>.<span class="m">8</span>)
rake (<span class="m">0</span>.<span class="m">8</span>.<span class="m">7</span>)
rdoc (<span class="m">2</span>.<span class="m">5</span>.<span class="m">8</span>)
</code></pre>
</div><p>As you can see Pik is available in the list of gems currently available to the default Ruby. But where other gems come from when we didn&#8217;t install it? They are bundled with Ruby and are available with Ruby installation.</p>
<p>It is time to finalize Pik installation. Comments displayed after gem is installed are self-explanatory but let&#8217;s analyze them. We are not upgrading Pik so we can skip the first one. The second one states that we must use pik_install command in order to install Pik, and we should pass it, as argument, some directory that is in the path. It is recommended to avoid our <code>ruby\bin</code> directory.</p>
<p>Currently our path contains directories added during Windows installation,  directory where Git is installed and, finally, bin directory of our Ruby 1.9.2 version. Since I like to keep things clear we will create new directory which we will use when we launch <code>pik_install</code> command. We&#8217;ll follow Pik&#8217;s suggestion and create <code>C:\tools</code> directory. Before calling pik_install we must add new directory to the path.</p>
<p>Click on the Start button, right-click on the Computer and click on the Properties menu item in the context-menu. New window with basic information about your computer opens. On the left side of window click on the <code>Advanced system settings</code> link and in dialog box that pops up click on <code>Environment variables...</code> button. In the list of user&#8217;s variables you should see Path variable set to the bin directory of our installed Ruby. Double click on it and at the end of value add:</p>
<div class="highlight"><pre><code class="bat">;C:\tools
</code></pre>
</div><p>Do not forget to type semicolon (;) before tools directory path. Click on OK buttons three times and close System window. You must close all Command Prompt windows and open new one, since changes made to Path variable will not be available in Command Prompt windows that were opened while we were changing it. We have prepared everything needed for Pik and we are ready to go on.</p>
<div class="highlight"><pre><code class="bat">C:\<span class="p">&gt;</span><span class="n">pik_install</span> C:\tools
Thank you <span class="k">for</span> using pik.

mkdir -p C:\tools
mkdir -p C:\Users\bosko<span class="n">/.pik</span>
Installing to C:\tools

cp c:<span class="n">/Ruby/192/lib/ruby/gems/1.9.1/gems/pik-0.2.8/tools/pik_runner.exe</span> C:\tools
cp c:<span class="n">/Ruby/192/lib/ruby/gems/1.9.1/gems/pik-0.2.8/tools/pik.bat</span> C:\tools
cp c:<span class="n">/Ruby/192/lib/ruby/gems/1.9.1/gems/pik-0.2.8/tools/pik.ps1</span> C:\tools

creating C:\Users\bosko<span class="n">/.pik/.pikrc</span>

pik is installed

<span class="k">if</span> you want to use pik with git bash<span class="p">,</span> add the following line to your ~<span class="n">/.bashrc:</span>
  [[ -s $USERPROFILE<span class="n">/.pik/.pikrc</span> ]] &amp;&amp; source $USERPROFILE<span class="n">/.pik/.pikrc</span>
</code></pre>
</div><p>As a good behaved tool, Pik displays everything it did during installation. First it created directory where it installed it&#8217;s files, <code>C:\tools</code> in our case. If directory already exists Pik will do nothing. Next, it creates <code>.pik</code> directory in <code>C:\Users\bosko</code>. But why does Pik chose this directory?</p>
<p>On the Unix-like systems all user specific files and directories are kept in user&#8217;s home directory which is usually located at the <code>/home/&lt;user_name&gt;</code> path and this value is stored in <code>HOME</code> system variable. On Windows, value that is used is stored in the <code>USERPROFILE</code> variable and on my system its value is <code>C:\Users\bosko</code>. Pik stores its data within <code>.pik</code> directory in the user&#8217;s home folder. That it a reason why it created <code>.pik</code> folder in it.</p>
<p>Further, it installed necessary scripts in the <code>C:\tools</code> folder by copying them from gem folder. At the end, Pik created <code>.pikrc</code> file in the <code>.pik</code> folder. Don&#8217;t be surprised by the name of the folder and the path. Naming convention on Unix-like systems is to hide them by prefixing names with a dot. Actually files and directories which have names that start with a dot are not actually hidden but are not displayed in any tool unless specifically requested. Pik follows this convention so it uses <code>.pik</code> and <code>.pikrc</code> for names of its folder and file within it.</p>
<p>Notice last comment printed out by <code>pik_install</code> script. It tells us that if we want to use Pik from Git bash shell we should add line:</p>
<div class="highlight"><pre><code class="bash"><span class="o">[[</span> -s <span class="nv">$USERPROFILE</span>/.pik/.pikrc <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">source</span> <span class="nv">$USERPROFILE</span>/.pik/.pikrc
</code></pre>
</div><p>to <code>~/.bashrc file</code>. Again tilda character is used on Unix-like systems to denote user&#8217;s home folder. As you might already guess it is <code>C:\Users\bosko</code> on my system. Let&#8217;s retain for a while on the <code>.pikrc</code> file. In the version 0.2.8 it contains following code:</p>
<div class="highlight"><pre><code class="bash"><span class="c">#!/bin/sh</span>
<span class="nv">pik_path</span><span class="o">=</span>/c/tools

<span class="k">function </span>pik  <span class="o">{</span>
  <span class="nv">$pik_path</span>/pik_runner.exe pik.sh <span class="nv">$@</span>
  <span class="o">[[</span> -s <span class="nv">$USERPROFILE</span>/.pik/pik.sh <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">source</span> <span class="nv">$USERPROFILE</span>/.pik/pik.sh
<span class="o">}</span>
</code></pre>
</div><p>The first line is the shebang line we mentioned earlier. Value <code>/bin/sh</code> means that the rest of the script should be executed in the shell. After that there is a definition for <code>pik_path</code> variable and then a code that looks like, and is, function definition. As comment printed out at the end of execution of pik_install script indicates, that this script is used for Git bash shell. Since Git uses Linux-like shell called Bash, it inherits almost all functionalities from Linux system. In Windows Command Prompt invoking pik command means executing <code>pik.bat</code>, batch file, stored in the <code>C:\tools</code> directory. On the other hand Git bash shell doesn&#8217;t know how to start pik command. Open new Console2 window and type in the Git bash tab (<code>Ctrl-F2</code>):</p>
<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>pik
sh.exe<span class="err">&quot;</span>: pik: <span class="nb">command </span>not found
</code></pre>
</div><p>Therefore in order to use Pik in this shell we must execute it in such a way that pik function becomes available in it. You can do it by executing following statement:</p>
<div class="highlight"><pre><code class="bash"><span class="nb">source</span> <span class="nv">$HOME</span>/.pik/.pikrc
</code></pre>
</div><p>which tells Bash shell to apply changes from <code>.pikrc</code> configuration file. After that you can try Pik in the Git&#8217;s Bash shell too:</p>
<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>pik -V
pik 0.2.8
</code></pre>
</div><p>If you do not want to “source” this configuration file every time you open Git Bash you should create <code>.bashrc</code> file in your home folder and put</p>
<div class="highlight"><pre><code class="bash"><span class="o">[[</span> -s <span class="nv">$USERPROFILE</span>/.pik/.pikrc <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">source</span> <span class="nv">$USERPROFILE</span>/.pik/.pikrc
</code></pre>
</div><p>in it. Go ahead and try it. Close current Git tab in Console2, create <code>.bashrc</code> file and then open Git tab again. You will see that pik command is available.</p>
<p>Up to now we haven&#8217;t actually tried Pik at all. We have only checked its availability in the Git Bash shell and its version. It is time to execute Pik for the first time:</p>
<div class="highlight"><pre><code class="bat">c:\<span class="p">&gt;</span><span class="n">pik</span>
** Adding:  <span class="m">192</span>: ruby <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>p<span class="m">136</span> (<span class="m">2010-12-25</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]
 Located at:  C:\Ruby\<span class="m">192</span>\bin
Usage: pik command [options]

To get help with a command

  pik help (command)

To list all commands and descriptions:

  pik help commands

    -V<span class="p">,</span> --version                    Pik version
    -d<span class="p">,</span> --debug                      Outputs debug information
</code></pre>
</div><p>Amazing! Pik somehow found our installed Ruby and added it to its list of available Rubies. The question is how did Pik know what Ruby we have. The answer is, again, Windows registry. If you open Registry Editor and navigate to <code>HKEY_CURRENT_USER\Software\RubyInstaller</code> key you will see that it has <span class="caps">MRI</span> sub-key, and that&#8217;s the place where it finds all necessary data about installed Ruby versions. If you are curious what data is stored there click on the 1.9.2 sub-key within <span class="caps">MRI</span> and you will see that it holds information about platform Ruby is built on, installation date, full path to the directory where Ruby is installed as well as a patch level. And that&#8217;s all Pik has to know to add Ruby version to itself.</p>
<p>Now go back to <code>.pik</code> folder in your home directory. You will see additional file created there, named <code>config.yml</code>. Extension <code>.yml</code> denotes it is <span class="caps">YAML</span> file. <span class="caps">YAML</span> (<span class="caps">YAML</span> Ain&#8217;t Markup Language) is common format for serializing data in Ruby world. We will not dwell on it. If you are not already familiar with <span class="caps">YAML</span> you can check the official <a href="http://www.yaml.org"><span class="caps">YAML</span> Web Site</a>. Let&#8217;s go further and open <code>config.yml</code> in your favorite editor.</p>
<div class="highlight"><pre><code class="ruby"><span class="o">---</span>
<span class="s2">&quot;192: ruby 1.9.2p136 (2010-12-25) [i386-mingw32]&quot;</span><span class="p">:</span>
  <span class="ss">:path</span><span class="p">:</span> <span class="o">!</span><span class="n">ruby</span><span class="o">/</span><span class="n">object</span><span class="ss">:Pathname</span>
    <span class="n">path</span><span class="p">:</span> <span class="n">C</span><span class="ss">:/</span><span class="no">Ruby</span><span class="o">/</span><span class="mi">192</span><span class="o">/</span><span class="n">bin</span>
<span class="o">---</span> <span class="p">{}</span>
</code></pre>
</div><p>As you can see Pik has stored all data it needs about our Ruby in that configuration file. We should start exploring Pik features at this point. Fire up Console2 and in the default tab check the list of all Ruby versions Pik is aware of by issuing <code>pik list</code> or <code>pik ls</code> command:</p>
<div class="highlight"><pre><code class="bat">C:\<span class="p">&gt;</span><span class="n">pik</span> ls
* <span class="m">192</span>: ruby <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>p<span class="m">136</span> (<span class="m">2010-12-25</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]
</code></pre>
</div><p>As expected, at the moment, Pik is aware only of our installed Ruby 1.9.2 version and it is marked as a default one, in the list that is printed out, by the asterisk (*) sign at the beginning of the line.</p>
<p>More then just listing installed Ruby versions, Pik is capable of showing all Ruby versions that can be installed through it.</p>
<div class="highlight"><pre><code class="bat">c:\<span class="p">&gt;</span><span class="n">pik</span> ls -r
---
DevKit:
  <span class="m">3</span>.<span class="m">4</span>.<span class="m">5</span>r<span class="m">3</span>: http:<span class="n">//rubyforge.org/frs/download.php/66888/devkit-3.4.5r3-20091110.7z</span>
IronRuby:
  <span class="m">0</span>.<span class="m">3</span>.<span class="m">0</span>: http:<span class="n">//rubyforge.org/frs/download.php/53552/ironruby-0.3.0.zip</span>
  <span class="m">0</span>.<span class="m">5</span>.<span class="m">0</span>: http:<span class="n">//rubyforge.org/frs/download.php/57126/ironruby-0.5.0.zip</span>
  <span class="m">0</span>.<span class="m">6</span>.<span class="m">0</span>: http:<span class="n">//rubyforge.org/frs/download.php/59717/ironruby-0.6.0.zip</span>
  <span class="m">0</span>.<span class="m">9</span>.<span class="m">0</span>: http:<span class="n">//rubyforge.org/frs/download.php/61382/ironruby-0.9.0.zip</span>
  <span class="m">0</span>.<span class="m">9</span>.<span class="m">1</span>: http:<span class="n">//rubyforge.org/frs/download.php/64504/ironruby-0.9.1.zip</span>
  <span class="m">0</span>.<span class="m">9</span>.<span class="m">2</span>: http:<span class="n">//rubyforge.org/frs/download.php/66606/ironruby-0.9.2.zip</span>
  <span class="s2">&quot;1.0&quot;</span>: http:<span class="n">//rubyforge.org/frs/download.php/70179/ironruby-1.0.zip</span>
  <span class="m">1</span>.<span class="m">0</span>-rc<span class="m">1</span>: http:<span class="n">//rubyforge.org/frs/download.php/67955/ironruby-1.0-rc1.zip</span>
  <span class="m">1</span>.<span class="m">0</span>-rc<span class="m">2</span>: http:<span class="n">//rubyforge.org/frs/download.php/69180/ironruby-1.0-rc2.zip</span>
  <span class="m">1</span>.<span class="m">0</span>.<span class="m">0</span>rc: http:<span class="n">//rubyforge.org/frs/download.php/69853/ironruby-1.0.0rc.zip</span>
  <span class="m">1</span>.<span class="m">0</span>rc<span class="m">3</span>: http:<span class="n">//rubyforge.org/frs/download.php/69665/ironruby-1.0rc3.zip</span>
  <span class="m">1</span>.<span class="m">0</span>v<span class="m">4</span>: http:<span class="n">//rubyforge.org/frs/download.php/70181/ironruby-1.0v4.zip</span>
JRuby:
  <span class="m">1</span>.<span class="m">5</span>.<span class="m">6</span>: http:<span class="n">//jruby.org.s3.amazonaws.com/downloads/1.5.6/jruby-bin-1.5.6.zip</span>
  <span class="m">1</span>.<span class="m">6</span>.<span class="m">0</span>.RC<span class="m">1</span>: http:<span class="n">//jruby.org.s3.amazonaws.com/downloads/1.6.0.RC1/jruby-bin-1.6.0.RC1.zip</span>
Ruby:
  <span class="m">1</span>.<span class="m">8</span>.<span class="m">7</span>-p<span class="m">302</span>: http:<span class="n">//rubyforge.org/frs/download.php/72087/ruby-1.8.7-p302-i386-mingw32.7z</span>
  <span class="m">1</span>.<span class="m">8</span>.<span class="m">7</span>-p<span class="m">330</span>: http:<span class="n">//rubyforge.org/frs/download.php/73720/ruby-1.8.7-p330-i386-mingw32.7z</span>
  <span class="m">1</span>.<span class="m">9</span>.<span class="m">1</span>-p<span class="m">429</span>: http:<span class="n">//rubyforge.org/frs/download.php/71496/ruby-1.9.1-p429-i386-mingw32.7z</span>
  <span class="m">1</span>.<span class="m">9</span>.<span class="m">1</span>-p<span class="m">430</span>: http:<span class="n">//rubyforge.org/frs/download.php/72076/ruby-1.9.1-p430-i386-mingw32.7z</span>
  <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>-p<span class="m">0</span>: http:<span class="n">//rubyforge.org/frs/download.php/72160/ruby-1.9.2-p0-i386-mingw32.7z</span>
  <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>-p<span class="m">136</span>: http:<span class="n">//rubyforge.org/frs/download.php/73723/ruby-1.9.2-p136-i386-mingw32.7z</span>
  <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>-rc<span class="m">1</span>: http:<span class="n">//rubyforge.org/frs/download.php/71498/ruby-1.9.2-rc1-i386-mingw32.7z</span>
  <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>dev-preview<span class="m">3-1</span>: http:<span class="n">//rubyforge.org/frs/download.php/71175/ruby-1.9.2dev-preview3-i386-mingw32-1.7z</span>
</code></pre>
</div><p>Omitting DevKit for the moment we can see that Pik can install various versions of IronRuby, JRuby and <span class="caps">MRI</span>. We&#8217;ll use this Pik&#8217;s feature and install IronRuby. This version is not so important for usage throughout the book, but is installed just to show one of many Pik&#8217;s features. Before we start IronRuby installation we&#8217;ll configure Pik to install new Ruby versions where we want to – in <code>C:\Ruby</code>.</p>
<div class="highlight"><pre><code class="bat">pik config installs<span class="o">=</span>C:\Ruby
</code></pre>
</div><p>Now we are ready to start IronRuby installation</p>
<div class="highlight"><pre><code class="bat">c:\<span class="p">&gt;</span><span class="n">pik</span> install ironruby
** Downloading:  http:<span class="n">//rubyforge.org/frs/download.php/70181/ironruby-1.0v4.zip</span>
   to:  C:\Users\bosko\.pik\downloads\ironruby<span class="m">-1</span>.<span class="m">0</span>v<span class="m">4</span>.zip

ironruby<span class="m">-1</span>.<span class="m">0</span>v<span class="m">4</span>.zip: <span class="m">100</span>% <span class="p">|</span><span class="n">ooooooooooooooooooooo</span><span class="p">|</span>   <span class="n">2</span>.<span class="m">9</span>MB/  <span class="m">2</span>.<span class="m">9</span>MB Time: <span class="m">00</span><span class="nl">:00:03</span>

** Extracting:  C:\Users\bosko\.pik\downloads\ironruby<span class="m">-1</span>.<span class="m">0</span>v<span class="m">4</span>.zip
   to:  C:\ruby\IronRuby<span class="m">-10</span>v<span class="m">4</span>
done

** Adding:  <span class="m">100</span>: IronRuby <span class="m">1</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">0</span> <span class="k">on</span> .NET <span class="m">4</span>.<span class="m">0</span>.<span class="m">30319</span>.<span class="m">1</span>
 Located at:  C:\ruby\IronRuby<span class="m">-10</span>v<span class="m">4</span>\bin
</code></pre>
</div><p>This is simple and elegant way to install additional Ruby versions on your Windows system. Checking available Rubies now gives:</p>
<div class="highlight"><pre><code class="bat">c:\<span class="p">&gt;</span><span class="n">pik</span> ls
  <span class="m">100</span>: IronRuby <span class="m">1</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">0</span> <span class="k">on</span> .NET <span class="m">4</span>.<span class="m">0</span>.<span class="m">30319</span>.<span class="m">1</span>
* <span class="m">192</span>: ruby <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>p<span class="m">136</span> (<span class="m">2010-12-25</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]
</code></pre>
</div><p>You must be aware of the fact that installing Rubies through Pik doesn&#8217;t run full installer, if it is available. Rather Pik downloads Zip or 7Zip archives, unpacks them and adds to its configuration file. This means that various configuration options that exist in installers like altering system path, files associations, menu shortcuts, etc. will not be set.</p>
<p>Additionally Pik has command for displaying more information about Ruby setup that is active in the current shell – pik info.</p>
<div class="highlight"><pre><code class="bat">c:\<span class="p">&gt;</span><span class="n">pik</span> info
pik <span class="m">0</span>.<span class="m">2</span>.<span class="m">8</span>

ruby:
interpreter:  <span class="s2">&quot;ruby&quot;</span>
version:      <span class="s2">&quot;1.9.2&quot;</span>
date:         <span class="s2">&quot;2010-12-25&quot;</span>
platform:     <span class="s2">&quot;i386-mingw32&quot;</span>
patchlevel:   <span class="s2">&quot;136&quot;</span>
full_version: <span class="s2">&quot;ruby 1.9.2p136 (2010-12-25) [i386-mingw32]&quot;</span>

homes:
gem:          <span class="s2">&quot;C:\Ruby\192\lib\ruby\gems\1.9.1&quot;</span>
ruby:         <span class="s2">&quot;C:\Ruby\192&quot;</span>

binaries:
ruby:         <span class="s2">&quot;C:\Ruby\192\bin&quot;</span>
irb:          <span class="s2">&quot;C:\Ruby\192\bin\irb.bat&quot;</span>
gem:          <span class="s2">&quot;C:\Ruby\192\bin\gem.bat&quot;</span>
rake:         <span class="s2">&quot;C:\Ruby\192\bin\rake.bat&quot;</span>

environment:
GEM_HOME:     <span class="s2">&quot;&quot;</span>
HOME:         <span class="s2">&quot;C:/Users/bosko&quot;</span>
IRBRC:        <span class="s2">&quot;&quot;</span>
RUBYOPT:      <span class="s2">&quot;&quot;</span>

file associations:
.rb:           <span class="s2">&quot;c:\Ruby\192\bin\ruby.exe&quot;</span> <span class="s2">&quot;%1&quot;</span> %*
.rbw:          <span class="s2">&quot;c:\Ruby\192\bin\rubyw.exe&quot;</span> <span class="s2">&quot;%1&quot;</span> %*
</code></pre>
</div><p>Output of Pik&#8217;s info command shows active interpreter version, full path where existing Ruby gems are and future ones will be installed, path to Ruby binaries, environment variables and file associations.</p>
<p>Until now we have added two Ruby versions to Pik. First was added automatically when we first ran Pik and the second one was installed through Pik itself. In the chapter Building Ruby we have built latest development version, copied it to <code>C:\Ruby\193dev</code> directory, but Pik is not aware of it. We will use new Pik command to add this version. Logically command is called add and it accepts path to the directory where <code>ruby.exe</code> is located.</p>
<div class="highlight"><pre><code class="bat">C:\<span class="p">&gt;</span><span class="n">pik</span> add C:\Ruby\<span class="m">193</span>dev\bin
** Adding:  <span class="m">193</span>: ruby <span class="m">1</span>.<span class="m">9</span>.<span class="m">3</span>dev (<span class="m">2011-01-11</span> trunk <span class="m">30511</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]
 Located at:  C:\Ruby\<span class="m">193</span>dev\bin
</code></pre>
</div><p>In a similar way we can add any Ruby version available on the system that is not installed through RubyInstaller installer. If we download any of Ruby 1.8 archives from RubyInstaller&#8217;s download page all we have to do is to unpack archive to some directory and use pik add command to add it to the list of versions that Pik can handle. Installing Ruby 1.8.7p330 is left for your exercise.</p>
<p>At the beginning of this chapter we said Pik&#8217;s main purpose is to manage various Ruby versions. At any time you can change active Ruby version using Pik&#8217;s switch command</p>
<div class="highlight"><pre><code class="bat">c:\<span class="p">&gt;</span><span class="n">pik</span> sw <span class="m">187</span>
c:\<span class="p">&gt;</span><span class="n">ruby</span> -v
ruby <span class="m">1</span>.<span class="m">8</span>.<span class="m">7</span> (<span class="m">2010-12-23</span> patchlevel <span class="m">330</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]

c:\<span class="p">&gt;</span><span class="n">pik</span> sw <span class="m">193</span>
c:\<span class="p">&gt;</span><span class="n">ruby</span> -v
ruby <span class="m">1</span>.<span class="m">9</span>.<span class="m">3</span>dev (<span class="m">2011-01-11</span> trunk <span class="m">30511</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]

c:\<span class="p">&gt;</span><span class="n">pik</span> switch <span class="m">192</span>
c:\<span class="p">&gt;</span><span class="n">ruby</span> -v
ruby <span class="m">1</span>.<span class="m">9</span>.<span class="m">2</span>p<span class="m">136</span> (<span class="m">2010-12-25</span>) [i<span class="m">386</span>-mingw<span class="m">32</span>]
</code></pre>
</div>

      <br/>
      
      <a href="/book/ch02-02.html" title="Previous: Building Ruby">&laquo; Building Ruby</a>
      

      
      &nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
      <a href="/book/ch02-04.html" title="Next: Devkit">Devkit &raquo; </a>
       
    </div>

    <hr>
  </div>
</div>

</body>
</html>
